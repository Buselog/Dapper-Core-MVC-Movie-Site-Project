@model FilmFusionDapperCoreMVCProject.Models.Movie
@{
	ViewData["Title"] = "UpdateMovie";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="update-form-container">
	<div class="frosted-form-box fade-slide">
		<h2 class="form-title">Update Movie</h2>

		<div class="poster-preview-wrapper text-center mb-4">
			<img src="@Model.PosterUrl" alt="Poster Preview" class="poster-preview-img" />
		</div>

		<form asp-action="UpdateMovie" asp-controller="Movie" method="post">
			@Html.HiddenFor(m => m.MovieId)

			<div class="form-group mb-3">
				<label asp-for="Title" class="form-label">Movie</label>
				<input asp-for="Title" class="form-control form-input" />
			</div>

			<div class="form-group mb-3">
				<label asp-for="ReleaseYear" class="form-label">Release Year</label>
				<input asp-for="ReleaseYear" class="form-control form-input" />
			</div>

			<div class="form-group mb-3">
				<label asp-for="Description" class="form-label">Description</label>
				<textarea asp-for="Description" class="form-control form-input" rows="3"></textarea>
			</div>

			<div class="form-group mb-3">
				<label asp-for="PosterUrl" class="form-label">Poster Url</label>
				<textarea asp-for="PosterUrl" class="form-control form-input" rows="2"></textarea>

			</div>

			<div class="form-group mb-3">
				<label asp-for="TrailerUrl" class="form-label">Trailer Url</label>
				<textarea asp-for="TrailerUrl" class="form-control form-input" rows="2"></textarea>
			</div>

			<div class="form-group mb-3">
				<label asp-for="Genre.GenreId" class="form-label">Genre</label>
				<select asp-for="Genre.GenreId" class="form-control frosted-dropdown">
					<option value="">-- Select Genre --</option>
					@foreach (var genre in ViewBag.Genres)
					{
						<option value="@genre.GenreId"
								selected="@(genre.GenreId == Model.Genre?.GenreId ? "selected" : null)">
							@genre.GenreName
						</option>

					}
				</select>
			</div>

			<button type="submit" class="btn btn-update">Update</button>
		</form>
	</div>
</div>
